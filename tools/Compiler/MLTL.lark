//// Parser Rules

program: block*

block: var_block
     | def_block
     | spec_block
     | order_block

var_block: VAR_KW var_list
var_list: (IDENTIFIER ":" type ";")+ 

type: BASE_TYPE
    | SET_KW set-param

set_param: "<" BASE_TYPE ">"
         | "âŸ¨" BASE_TYPE "âŸ©"

def_block: DEF_KW def_list
def_list: (IDENTIFIER "=" (atomic_expr | set_list) ";")+

set_list: "{" IDENTIFIER? "}"
        | "{" IDENTIFIER ("," IDENTIFIER)+ "}"
        | EMPTY_SET

spec_block: SPEC_KW spec-list
spec_list: (spec_label? spec_expr ";")+
spec_label: IDENTIFIER ":"

order_block: ORDER_KW order_list
order_list: IDENTIFIER ("," IDENTIFIER)* ";"



atomic_expr: atomic_expr COMP_OP atomic_expr




//// Lexical Spec

// Propositional logic ops/literals
NOT: "!" | "Â¬" 
AND: "&&" | "âˆ¨"
OR: "||" | "âˆ§"
IMPLIES: "->" | "â†’"
IFF: "<->" | "â†”" 
TRUE: "TRUE" | "âŠ¤"
FALSE: "FALSE" | "âŠ¥"

// Comparison ops
EQ: "=="
NEQ: "!=" | "â‰ "
GT: ">"
GTE: ">=" | "â‰¥"
LT: "<"
LTE: "<=" | "â‰¤" 

// General ops
ADD: "+"
SUB: "-"
MUL: "*" | "Ã—" | "â€¢" | "â‹…"
DIV: "/" | "Ã·"
SQRT: "SQRT" | "âˆš"
PM: "+-" | "Â±"

// Temporal ops
UN_TEMP_OP: GLOBALLY | FUTURE | SINCE | ONCE
BIN_TEMP_OP: UNTIL | RELEASE | HISTORICALLY

GLOBALLY: "G" | "ð“–" | "â–¡"
FUTURE: "F" | "ð“•" | "â‹„" | "â™¢"
SINCE: "S" | "ð“¢"
ONCE: "O" | "ð“ž"
UNTIL: "U" | "ð“¤"
RELEASE: "R" | "ð“¡"
HISTORICALLY: "H" | "ð“—"

// First-order -- not used
FORALL: "FORALL" | "âˆ€"
EXISTS: "EXISTS" | "âˆƒ"

// Set-wise operators
EMPTY_SET: "âˆ…"
MEMBER: "IN" | "âˆˆ"
SUBSET: "SUBSET" | "âŠ‚"
SUBSETEQ: "SUBSETEQ" | "âŠ†"
SUPSET: "SUPSET" | "âŠ‚"
SUPSETEQ: "SUPSETEQ" | "âŠ‡"
SUM: "SUM" | "âˆ‘"
PROD: "PROD" | "âˆ"
SETUNION: "SETUNION" | "â‹ƒ"
SETINTERSECTION: "SETINTERSECTION" | "â‹‚"
SETAND: "SETAND" | "â‹€"
SETOR: "SETOR" | "â‹"

VAR_KW: "VAR"
DEF_KW: "DEF"
SPEC_KW: "SPEC"
ORDER_KW: "ORDER"

IDENTIFIER: CNAME
          | "Î‘".."Ï‰"

%import common.CNAME
%import common.SH_COMMENT
%import common.WS

%ignore SH_COMMENT
%ignore WS